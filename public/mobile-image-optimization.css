/**
 * Mobile Image Optimization CSS
 *
 * This file contains CSS optimizations specifically for improving image loading
 * on mobile devices. It helps prevent the blank spaces and reloading issues
 * during scrolling.
 */

/* Prevent layout shifts during image loading */
img {
  /* Ensure images maintain their aspect ratio if dimensions are set */
  aspect-ratio: attr(width) / attr(height);

  /* Improve image rendering during scroll */
  image-rendering: auto;

  /* Use async decoding for all images */
  decoding: async;

  /* Ensure smooth transitions */
  transition: opacity 0.2s ease-in-out;
}

/* Optimize image containers to prevent layout shifts */
.image-container,
[class*="img-container"],
[class*="image-wrapper"],
[class*="img-wrapper"] {
  /* Set a background color while images load */
  background-color: #111;

  /* Ensure proper overflow handling */
  overflow: hidden;

  /* Create a stacking context */
  isolation: isolate;

  /* Prevent content visibility changes during scroll */
  contain: layout paint;
}

/* Optimize Next.js image component */
span[style*="box-sizing: border-box; display: block; overflow: hidden; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px; position: absolute"] {
  /* Prevent layout shifts */
  min-height: 1px;

  /* Set a background color while images load */
  background-color: #111;
}

/* Optimize image placeholders */
.placeholder,
[class*="placeholder"],
[class*="skeleton"] {
  /* Use hardware acceleration */
  transform: translateZ(0);

  /* Prevent layout shifts */
  min-height: 1px;
}

/* Optimize for touch devices */
@media (pointer: coarse) {
  /* Improve scrolling performance */
  html, body {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: none;
  }
}

/* Prevent image reloading during scroll */
@media (max-width: 768px) {
  /* Optimize image loading */
  img {
    /* Ensure images maintain their aspect ratio */
    aspect-ratio: attr(width) / attr(height);

    /* Apply hardware acceleration only to critical images */
    &.critical-image {
      transform: translateZ(0);
    }
  }

  /* Optimize image containers */
  .image-container,
  [class*="img-container"],
  [class*="image-wrapper"],
  [class*="img-wrapper"] {
    /* Set a background color while images load */
    background-color: #111;

    /* Ensure proper overflow handling */
    overflow: hidden;
  }

  /* Apply hardware acceleration only to hero section images */
  .hero-section img,
  .hero-section video {
    transform: translateZ(0);
  }
}
